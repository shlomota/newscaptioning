{
    "dataset_reader": {
        "type": "BMReader",
        "articles_num": 5,
        "image_dir": "data/nytimes/images_processed",
        "lazy": true,
        "mongo_host": "nova",
        "token_indexers": {
            "roberta": {
                "type": "roberta",
                "max_len": 512,
                "model_name": "roberta-base",
                "namespace": "bpe",
                "padding_on_right": true,
                "padding_value": 1
            }
        },
        "tokenizer": {
            "type": "word",
            "word_splitter": "just_spaces_keep_newlines"
        },
        "use_caption_names": false,
        "use_objects": true
    },
    "iterator": {
        "type": "bucket",
        "batch_size": 16,
        "biggest_batch_first": false,
        "instances_per_epoch": 5,
        "max_instances_in_memory": 8192,
        "maximum_samples_per_batch": [
            "num_tokens",
            16384
        ],
        "sorting_keys": [
            [
                "context",
                "num_tokens"
            ],
            [
                "caption",
                "num_tokens"
            ]
        ]
    },
    "model": {
        "type": "BMModel",
        "attention_dim": 1024,
        "criterion": {
            "type": "adaptive_loss",
            "padding_idx": 1
        },
        "evaluate_mode": false,
        "hidden_size": 1024,
        "index": "roberta",
        "namespace": "bpe",
        "padding_value": 1,
        "sampling_topk": 1,
        "use_context": true,
        "vocab_size": 50265,
        "weigh_bert": true
    },
    "train_data_path": "train",
    "validation_data_path": "valid",
    "test_data_path": "test",
    "trainer": {
        "num_epochs": 1,
        "optimizer": "adam"
    },
    "validation_iterator": {
        "type": "bucket",
        "batch_size": 16,
        "biggest_batch_first": false,
        "max_instances_in_memory": 8192,
        "maximum_samples_per_batch": [
            "num_tokens",
            16384
        ],
        "sorting_keys": [
            [
                "context",
                "num_tokens"
            ],
            [
                "caption",
                "num_tokens"
            ]
        ]
    }
}